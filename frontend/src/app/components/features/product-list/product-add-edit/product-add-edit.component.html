<mat-toolbar color="primary">
    <span class="toolbar-heading">{{ isEditMode ? 'Edit Product' : 'Add Product' }}</span>
</mat-toolbar>

<mat-card class="product-card">
    <mat-card-content>
        <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="form">
            <div class="form-grid">
                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Name</mat-label>
                    <input matInput formControlName="name" placeholder="Enter product name">
                    <mat-error *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched">
                        Name is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Price</mat-label>
                    <input matInput type="number" formControlName="price" placeholder="Enter price">
                    <mat-error *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched">
                        Valid price is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Discount</mat-label>
                    <input matInput type="number" formControlName="discount" placeholder="Enter discount percentage">
                    <mat-error *ngIf="productForm.get('discount')?.invalid && productForm.get('discount')?.touched">
                        Valid discount (0-100) is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Category</mat-label>
                    <mat-select formControlName="categoryId" placeholder="Select category">
                        <mat-option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="productForm.get('category')?.invalid && productForm.get('category')?.touched">
                        Category is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Size</mat-label>
                    <input matInput formControlName="size" placeholder="Enter size">
                    <mat-error *ngIf="productForm.get('size')?.invalid && productForm.get('size')?.touched">
                        Size is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="form-field">
                    <mat-label>Vendor</mat-label>
                    <mat-select formControlName="vendorId" placeholder="Select vendor">
                        <mat-option *ngFor="let vendor of vendors" [value]="vendor._id">{{ vendor.name }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="productForm.get('vendor')?.invalid && productForm.get('vendor')?.touched">
                        Vendor is required
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="buttons">
                <button mat-raised-button color="primary" type="submit">
                    {{ isEditMode ? 'Update' : 'Add' }} Product
                </button>
                <button (click)="close()" mat-raised-button color="accent" routerLink="/products">
                    Cancel
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>